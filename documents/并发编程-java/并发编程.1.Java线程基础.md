[TOC]

# Javaçº¿ç¨‹åŸºç¡€

## Javaç¨‹åºå¤©ç”Ÿå°±æ˜¯å¤šçº¿ç¨‹çš„

```java
package cn.enjoyedu.ch1.base;

import java.lang.management.ManagementFactory;
import java.lang.management.ThreadInfo;
import java.lang.management.ThreadMXBean;
/**
 * äº«å­¦ Markè€å¸ˆ
 */
/**
 *ç±»è¯´æ˜ï¼šåªæœ‰ä¸€ä¸ªmainæ–¹æ³•çš„ç¨‹åº
 */
public class OnlyMain {
    public static void main(String[] args) {
        //Java è™šæ‹Ÿæœºçº¿ç¨‹ç³»ç»Ÿçš„ç®¡ç†æ¥å£
        ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();
        // ä¸éœ€è¦è·å–åŒæ­¥çš„monitorå’Œsynchronizerä¿¡æ¯ï¼Œä»…ä»…è·å–çº¿ç¨‹å’Œçº¿ç¨‹å †æ ˆä¿¡æ¯
        ThreadInfo[] threadInfos =
                threadMXBean.dumpAllThreads(false, false);
        // éå†çº¿ç¨‹ä¿¡æ¯ï¼Œä»…æ‰“å°çº¿ç¨‹IDå’Œçº¿ç¨‹åç§°ä¿¡æ¯
        for (ThreadInfo threadInfo : threadInfos) {
            System.out.println("[" + threadInfo.getThreadId() + "] "
                    + threadInfo.getThreadName());
        }
    }
}

```

`ManagementFactory`ã€`ThreadMXBean`ã€`ThreadInfo`å¼€å‘æ—¶ä½¿ç”¨è¾ƒå°‘ï¼Œå¸¸ç”¨äºJVMçº¿ç¨‹ç›‘æ§ã€‚

- `ManagementFactory`

  è·å–JVMçº¿ç¨‹ç®¡ç†æ¥å£`ThreadMXBean`

- `ThreadMXBean`

  |                            method                            |                      description                       |
  | :----------------------------------------------------------: | :----------------------------------------------------: |
  | dumpAllThreads(boolean lockedMonitors, boolean lockedSynchronizers) | è¿”å›æ‰€æœ‰æ´»åŠ¨çº¿ç¨‹çš„çº¿ç¨‹ä¿¡æ¯ï¼Œå¹¶å¸¦æœ‰å †æ ˆè·Ÿè¸ªå’ŒåŒæ­¥ä¿¡æ¯ã€‚ |

### è¿è¡Œç»“æœ

```txt
[5] Attach Listener
[4] Signal Dispatcher
[3] Finalizer
[2] Reference Handler
[1] main
```

> æˆ‘çš„è¿è¡Œç»“æœæ˜¾ç¤ºå¯åŠ¨äº†5ä¸ªçº¿ç¨‹ï¼Œè€ŒMarkè€å¸ˆè¿è¡Œç»“æœæ˜¾ç¤ºå¯åŠ¨äº†6ä¸ªçº¿ç¨‹ã€‚ç»“æœä¸è™šæ‹Ÿæœºã€æ“ä½œç³»ç»Ÿæœ‰å…³ã€‚

- Monitor Ctrl-Break //ç›‘æ§Ctrl-Breakä¸­æ–­ä¿¡å·çš„

- Attach Listener //å†…å­˜dumpï¼Œçº¿ç¨‹dumpï¼Œç±»ä¿¡æ¯ç»Ÿè®¡ï¼Œè·å–ç³»ç»Ÿå±æ€§ç­‰

- Signal Dispatcher  // åˆ†å‘å¤„ç†å‘é€ç»™JVMä¿¡å·çš„çº¿ç¨‹

- Finalizer  // è°ƒç”¨å¯¹è±¡finalizeæ–¹æ³•çš„çº¿ç¨‹

  > ç”±äºå…¶ä¸º`å®ˆæŠ¤çº¿ç¨‹`ï¼Œä¸»çº¿ç¨‹é”€æ¯æ—¶å…¶è·Ÿéšé”€æ¯ï¼Œæ•…`finalizeæ–¹æ³•`çš„æ‰§è¡Œæƒ…å†µä¸èƒ½ä¿è¯ã€‚

- Reference Handler//æ¸…é™¤Referenceçš„çº¿ç¨‹

- main //mainçº¿ç¨‹ï¼Œç”¨æˆ·ç¨‹åºå…¥å£

### å‚è€ƒ

https://www.cnblogs.com/wzhanke/p/4460891.html

## Javaä¸­åˆ›å»ºçº¿ç¨‹æ–¹å¼æœ‰å‡ ç§

ä¸¤ç§

- Thread 
- Runnable

ä»¥ä¸‹æ–‡çŒ®æ¥è‡ªJDKæºç `Thread`æ³¨é‡Š

```html
 * <p>
 * There are two ways to create a new thread of execution. One is to
 * declare a class to be a subclass of <code>Thread</code>. This
 * subclass should override the <code>run</code> method of class
 * <code>Thread</code>. An instance of the subclass can then be
 * allocated and started. For example, a thread that computes primes
 * larger than a stated value could be written as follows:
 * <hr><blockquote><pre>
 *     class PrimeThread extends Thread {
 *         long minPrime;
 *         PrimeThread(long minPrime) {
 *             this.minPrime = minPrime;
 *         }
 *
 *         public void run() {
 *             // compute primes larger than minPrime
 *             &nbsp;.&nbsp;.&nbsp;.
 *         }
 *     }
 * </pre></blockquote><hr>
 * <p>
 * The following code would then create a thread and start it running:
 * <blockquote><pre>
 *     PrimeThread p = new PrimeThread(143);
 *     p.start();
 * </pre></blockquote>
 * <p>
     * The other way to create a thread is to declare a class that
 * implements the <code>Runnable</code> interface. That class then
 * implements the <code>run</code> method. An instance of the class can
 * then be allocated, passed as an argument when creating
 * <code>Thread</code>, and started. The same example in this other
 * style looks like the following:
 * <hr><blockquote><pre>
 *     class PrimeRun implements Runnable {
 *         long minPrime;
 *         PrimeRun(long minPrime) {
 *             this.minPrime = minPrime;
 *         }
 *
 *         public void run() {
 *             // compute primes larger than minPrime
 *             &nbsp;.&nbsp;.&nbsp;.
 *         }
 *     }
 * </pre></blockquote><hr>
 * <p>
 * The following code would then create a thread and start it running:
 * <blockquote><pre>
 *     PrimeRun p = new PrimeRun(143);
 *     new Thread(p).start();
 * </pre></blockquote>
 * <p>
```

ä»…ä¸¤ç§æ–¹å¼åˆ›å»º`å¯æ‰§è¡Œçº¿ç¨‹`

- ```java
  public class MyThread extends Thread {...}
  ```

- ```java
  class PrimeRun implements Runnable {...}
  class Main {
      public static void main(String[] args) {
      	new Thread(new PrinmeRun()).start();
  	}
  }
  ```

### Threadä¸RunnableåŒºåˆ«

- Thread 

  Javaå¯¹`çº¿ç¨‹`æŠ½è±¡

- Runnable

  Javaå¯¹`ä»»åŠ¡`æŠ½è±¡|å¯¹`å…·ä½“ä¸šåŠ¡é€»è¾‘`æŠ½è±¡

## ä¸­æ­¢çº¿ç¨‹

### æ–¹æ³•-@Deprecated

- stop
- destory
- suspend
- resume

> Mark 
>
> ç”±äºä»¥ä¸Šæ–¹æ³•è¿‡äºé‡è›®ï¼Œå¯èƒ½å¯¼è‡´çº¿ç¨‹æ‰€å ç”¨èµ„æºä¸æ­£å¸¸é‡Šæ”¾ã€‚

#### sample-suspend æŒ‚èµ·

å‘ç”Ÿä¸€æ¬¡`ä¸Šä¸‹æ–‡åˆ‡æ¢`ï¼Œä»ä¸€ä¸ªå¯è¿è¡ŒçŠ¶æ€åˆ°æŒ‚èµ·çŠ¶æ€ã€‚å³å ç”¨èµ„æºè¿›å…¥`ç¡çœ çŠ¶æ€`ï¼Œè‹¥å ç”¨èµ„æºä¸º`é”`ï¼Œåˆ™æ˜“å¼•å‘æ­»é”çŠ¶æ€ã€‚

### æ–¹æ³•-ä¸­æ–­-interrupt

- `public void interrupt()`

  ```java
  public void interrupt() {
          if (this != Thread.currentThread())
              checkAccess();
  
          synchronized (blockerLock) {
              Interruptible b = blocker;
              if (b != null) {
                  interrupt0();           // Just to set the interrupt flag
                  b.interrupt(this);
                  return;
              }
          }
          interrupt0();
      }
  ```

  é€šè¿‡`interrupt0()`æœ¬åœ°æ–¹æ³•è®¾ç½®`çº¿ç¨‹æ ‡è¯†ä½`

  > Mark
  >
  > â€‹	è°ƒç”¨interruptåä»…ä¸çº¿ç¨‹`æ‰“æ‹›å‘¼`ï¼Œçº¿ç¨‹å¯ä»¥`ä¸ç«‹å³æ‰§è¡Œ`æˆ–`ä¸ç†ä¼š`ã€‚
  >
  > â€‹	ç»“è®ºï¼šJDKä¸­çº¿ç¨‹æ˜¯`åä½œå¼`çš„ï¼Œè€Œé`æŠ¢å å¼`

  **çº¿ç¨‹é€šè¿‡æ£€æŸ¥è‡ªèº«çš„ä¸­æ–­æ ‡å¿—ä½æ˜¯å¦è¢«ç½®ä¸ºtrueæ¥è¿›è¡Œå“åº”ã€‚**

- `public boolean isInterrupted()`

  æ£€æŸ¥`çº¿ç¨‹ä¸­æ–­æ ‡è¯†ä½`

  ```java
  public boolean isInterrupted() {
          return isInterrupted(false);
  }
  ```

- `public static boolean interrutped()`

  æ£€æŸ¥`çº¿ç¨‹ä¸­æ–­æ ‡è¯†ä½`, å¹¶å°†`ä¸­æ–­æ ‡è¯†ä½`ä¿®æ”¹ä¸ºfalse

  ```java
  public static boolean interrupted() {
          return currentThread().isInterrupted(true);
      }
  ```

#### `private native boolean isInterrupted(boolean ClearInterrupted)`

`public boolean isInterrupted()`ä¸`public static boolean interrupted`å‡è°ƒç”¨`private native boolean isInterrupted(boolean ClearInterrupted)`

##### å‚æ•°`ClearInterrupted`

æ˜¯å¦æ¸…é™¤`çº¿ç¨‹ä¸­æ–­çŠ¶æ€`

### ä»£ç 

```java
/**
 *ç±»è¯´æ˜ï¼šå¦‚ä½•å®‰å…¨ä¸­æ–­çº¿ç¨‹
 */
public class EndThread {
	
	private static class UseThread extends Thread{

		public UseThread(String name) {
			super(name);
		}

		@Override
		public void run() {
			String threadName = Thread.currentThread().getName();
			System.out.println(threadName+" interrrupt flag ="+isInterrupted());
			// while(!isInterrupted()){
			while(!Thread.interrupted()){
			//while(true) {
				System.out.println(threadName+" is running");
				System.out.println(threadName+"inner interrrupt flag ="
						+isInterrupted());
			}
			System.out.println(threadName + " interrrupt flag ="+ isInterrupted());
		}
	}

	public static void main(String[] args) throws InterruptedException {
		Thread endThread = new UseThread("endThread");
		endThread.start();
		Thread.sleep(20);
		endThread.interrupt();//ä¸­æ–­çº¿ç¨‹ï¼Œå…¶å®è®¾ç½®çº¿ç¨‹çš„æ ‡è¯†ä½true
	}

}
```

> æ£€éªŒä¸­æ–­æ–¹æ³•ä¸­æœ‰é™æ€æ–¹æ³•æˆ–æˆå‘˜æ–¹æ³•å¯èƒ½ç”±äºå†å²åŸå› é€ æˆã€‚

### InterruptedException

å¦‚æœä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº†é˜»å¡æ–¹æ³•ï¼ˆä¾‹å¦‚`sleep()`ã€`join()`ã€`wait()`ç­‰ï¼‰ï¼Œ

åˆ™åœ¨çº¿ç¨‹æ£€æŸ¥`ä¸­æ–­æ ‡å¿—ä½`æ˜¯å‘ç°å…¶ä¸º`true`ï¼Œé‚£ä¹ˆè¿™äº›é˜»å¡æ–¹æ³•å°†æŠ›å‡º`InterruptedException`ã€‚åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹åï¼Œç«‹å³å°†çº¿ç¨‹çš„`ä¸­æ–­æ ‡å¿—ä½`æ¸…é™¤â€”â€”é‡æ–°è®¾ç½®ä¸º`false`ã€‚

æ‰€ä»¥ï¼Œè‹¥è¦åœ¨`é˜»å¡çŠ¶æ€`ä¸‹ä¸­æ–­çº¿ç¨‹ï¼Œåˆ™è¦åœ¨`try-catch`ä¸­`catchä»£ç å—`é‡Œå†æ¬¡æ‰‹åŠ¨è°ƒç”¨`interrupt()`

#### åŸå› 

åœ¨`é˜»å¡çŠ¶æ€`æ—¶çº¿ç¨‹æœ‰å¯èƒ½è·å–èµ„æºï¼Œæ¯”å¦‚`é”ğŸ”’`ã€‚è‹¥æ­¤æ—¶ä¸­æ–­çº¿ç¨‹ï¼Œå¯¼è‡´èµ„æºä¸æ­£å¸¸é‡Šæ”¾ã€‚æ•…åœ¨`é˜»å¡çŠ¶æ€`æ—¶ä¸­æ–­çº¿ç¨‹å…è®¸ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾èµ„æºã€‚

æ•…`æ­»é”çŠ¶æ€`çº¿ç¨‹ä¸ç†ä¼šä¸­æ–­ã€‚

### ä¸å»ºè®®è‡ªå®šä¹‰`å–æ¶ˆæ ‡è¯†ä½`ä»¥ä¸­æ­¢çº¿ç¨‹è¿è¡Œ

- ä¸€èˆ¬é˜»å¡æ–¹æ³•æœ¬èº«æ”¯æŒ`ä¸­æ–­æ£€æŸ¥`
- `isInterrupt` ä¸æ£€æŸ¥è‡ªå®šä¹‰æ ‡è¯†ä½æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½¿ç”¨`JDK`æä¾›æ–¹æ³•å‡å°‘å£°æ˜ä»¥å‡å°‘èµ„æºæ¶ˆè€—ã€‚

### æ³¨æ„

- æ­»é”çŠ¶æ€çº¿ç¨‹æ— æ³•è¢«ä¸­æ–­

## Thread.currentThread()

```java
public class MyTask implements Runnable{
    
    public void run(){
        while (Thread.currentThread().isInterrupted) {
            ...
        }
    }
}
```

Javaå¹¶å‘ç¼–ç¨‹ä¸­å¸¸ç”¨`Thread.currentThread()`è·å–å½“å‰çº¿ç¨‹å®ä¾‹ã€‚

## start()ä¸run()

```java
Thread thread = new Thread();
```

è¯¥ä»£ç ä»…äº`JVM`ä¸­åˆ›å»º`å®ä¾‹`ï¼Œå¹¶æœªä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹æŒ‚é’©ã€‚

åœ¨è°ƒç”¨`start()`åè¯¥å®ä¾‹æ‰ä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹æŒ‚é’©ã€‚

```java
public synchronized void start() {
        /**
         * This method is not invoked for the main method thread or "system"
         * group threads created/set up by the VM. Any new functionality added
         * to this method in the future may have to also be added to the VM.
         *
         * A zero status value corresponds to state "NEW".
         */
        if (threadStatus != 0)
            throw new IllegalThreadStateException();

        /* Notify the group that this thread is about to be started
         * so that it can be added to the group's list of threads
         * and the group's unstarted count can be decremented. */
        group.add(this);

        boolean started = false;
        try {
            start0(); // çœŸæ­£ä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹æŒ‚é’©
            started = true;
        } finally {
            try {
                if (!started) {
                    group.threadStartFailed(this);
                }
            } catch (Throwable ignore) {
                /* do nothing. If start0 threw a Throwable then
                  it will be passed up the call stack */
            }
        }
    }
```

## Javaçº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ

|                æ“ä½œ                |     Javaçº¿ç¨‹çŠ¶æ€     |
| :--------------------------------: | :------------------: |
|            åˆ›å»ºçº¿ç¨‹å®ä¾‹            |         æ–°å»º         |
|              start()               | å°±ç»ªçŠ¶æ€[å¯è¿è¡ŒçŠ¶æ€] |
|        join()æˆ–åˆ†é…`æ—¶é—´ç‰‡`        |       è¿è¡ŒçŠ¶æ€       |
|       yield()æˆ–`æ—¶é—´ç‰‡åˆ°æœŸ`        |    å›åˆ°`å°±ç»ªçŠ¶æ€`    |
|        stop()æˆ–`run()ç»“æŸ`         |         æ­»äº¡         |
|              sleep()               |       é˜»å¡çŠ¶æ€       |
|               wait()               |  é˜»å¡çŠ¶æ€ï¼ˆé‡Šæ”¾é”ï¼‰  |
| sleep()ç»“æŸæˆ–notify()æˆ–interrupt() |       å°±ç»ªçŠ¶æ€       |

> è°ƒç”¨notifyä¸notifyAllä¸ä¼šç«‹å³é‡Šæ”¾é”ï¼Œ**ç›´åˆ°å½“å‰synchronizedä»£ç å—æ‰§è¡Œå®Œæ¯•ï¼Œæ‰é‡Šæ”¾é”**ã€‚(è§ã€Šçº¿ç¨‹å…±äº«ä¸çº¿ç¨‹åä½œã€‹)
- interrupt()

  ä»…å‘Šè¯‰çº¿ç¨‹å³å°†æ­»äº¡ï¼ˆå£°æ˜æ ‡è¯†ä½ï¼‰ï¼Œè€Œéç›´æ¥æ­»äº¡ï¼Œæ•…å›åˆ°å°±ç»ªçŠ¶æ€ã€‚

- yield()

  è®©å‡ºCPUæ‰§è¡Œæƒï¼Œå¹¶ä¸ä¼šè®©å‡ºé”ã€‚å› ä¸ºè°ƒç”¨yield()æ–¹æ³•çš„çº¿ç¨‹ä¸ä¸€å®šå ç”¨é”ï¼Œä¸”å…¶ä»–çº¿ç¨‹ä¸ä¸€å®šå æœ‰é”ã€‚

### join()

ä¿è¯çº¿ç¨‹é¡ºåº|åŒæ­¥æ‰§è¡Œ

æŒ‡å®šæŸçº¿ç¨‹åœ¨å½“å‰çº¿ç¨‹ä¹‹å‰æ‰§è¡Œã€‚

### é˜»å¡çŠ¶æ€

çº¿ç¨‹æŒ‚èµ·ï¼Œæ“ä½œç³»ç»Ÿä¸å†å¯¹è¯¥çº¿ç¨‹åˆ†é…`æ—¶é—´ç‰‡`

#### çº¿ç¨‹ç­‰å¾…ä¸é˜»å¡çš„åŒºåˆ«

ä¸ªäººè®¤ä¸ºï¼Œ`é˜»å¡(block)`ä¸`ç­‰å¾…(waiting)`å¹¶ä¸å­˜åœ¨å®é™…ä¸Šçš„åŒºåˆ«ã€‚

åœ¨è¯¸å¤š`Javaå¹¶å‘å·¥å…·`ä¸­ï¼Œå¾€å¾€éƒ½æ˜¯é€šè¿‡`LockSupport`çš„`park*()`ç³»åˆ—æ–¹æ³•å®ç°çº¿ç¨‹çš„æš‚åœæ‰§è¡Œã€‚

è€Œå‚è€ƒäº†ä¸€äº›èµ„æ–™åï¼Œ`é˜»å¡`ä¸`ç­‰å¾…`ä¸»è¦å­˜åœ¨é€»è¾‘ä¸Šçš„åŒºåˆ«ï¼Œå¦‚æœæ˜¯çº¿ç¨‹ä¸»åŠ¨è¿›å…¥æš‚åœçš„çŠ¶æ€ï¼Œæˆ‘ä»¬ç§°ä¸º`waiting`ï¼›åä¹‹ï¼Œæˆ‘ä»¬ç§°ä¸º`block`ã€‚

- å‚è€ƒ

  https://bbs.csdn.net/topics/391928976

  http://blog.sina.com.cn/s/blog_a2dce6b301015vj1.html

## çº¿ç¨‹ä¼˜å…ˆçº§

> åœ¨Javaçº¿ç¨‹ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªæ•´å‹æˆå‘˜å˜é‡priorityæ¥æ§åˆ¶ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§çš„èŒƒå›´ä»1~10ï¼Œåœ¨çº¿ç¨‹æ„å»ºçš„æ—¶å€™å¯ä»¥é€šè¿‡setPriority(int)æ–¹æ³•æ¥ä¿®æ”¹ä¼˜å…ˆçº§ï¼Œé»˜è®¤ä¼˜å…ˆçº§æ˜¯5ï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹åˆ†é…æ—¶é—´ç‰‡çš„æ•°é‡è¦å¤šäºä¼˜å…ˆçº§ä½çš„çº¿ç¨‹ã€‚
>
> è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§æ—¶ï¼Œé’ˆå¯¹é¢‘ç¹é˜»å¡ï¼ˆä¼‘çœ æˆ–è€…I/Oæ“ä½œï¼‰çš„çº¿ç¨‹éœ€è¦è®¾ç½®è¾ƒé«˜ä¼˜å…ˆçº§ï¼Œè€Œåé‡è®¡ç®—ï¼ˆéœ€è¦è¾ƒå¤šCPUæ—¶é—´æˆ–è€…åè¿ç®—ï¼‰çš„çº¿ç¨‹åˆ™è®¾ç½®è¾ƒä½çš„ä¼˜å…ˆçº§ï¼Œç¡®ä¿å¤„ç†å™¨ä¸ä¼šè¢«ç‹¬å ã€‚åœ¨ä¸åŒçš„JVMä»¥åŠæ“ä½œç³»ç»Ÿä¸Šï¼Œçº¿ç¨‹è§„åˆ’ä¼šå­˜åœ¨å·®å¼‚ï¼Œæœ‰äº›æ“ä½œç³»ç»Ÿç”šè‡³ä¼šå¿½ç•¥å¯¹çº¿ç¨‹ä¼˜å…ˆçº§çš„è®¾å®šã€‚

## å®ˆæŠ¤çº¿ç¨‹

> Daemonï¼ˆå®ˆæŠ¤ï¼‰çº¿ç¨‹æ˜¯ä¸€ç§æ”¯æŒå‹çº¿ç¨‹ï¼Œå› ä¸ºå®ƒä¸»è¦è¢«ç”¨ä½œç¨‹åºä¸­åå°è°ƒåº¦ä»¥åŠæ”¯æŒæ€§å·¥ä½œã€‚è¿™æ„å‘³ç€ï¼Œå½“ä¸€ä¸ªJavaè™šæ‹Ÿæœºä¸­ä¸å­˜åœ¨**é**Daemonçº¿ç¨‹çš„æ—¶å€™ï¼ŒJavaè™šæ‹Ÿæœºå°†ä¼šé€€å‡ºã€‚å¯ä»¥é€šè¿‡è°ƒç”¨Thread.setDaemon(true)å°†çº¿ç¨‹è®¾ç½®ä¸ºDaemonçº¿ç¨‹ã€‚æˆ‘ä»¬ä¸€èˆ¬ç”¨ä¸ä¸Šï¼Œæ¯”å¦‚åƒåœ¾å›æ”¶çº¿ç¨‹å°±æ˜¯Daemonçº¿ç¨‹ã€‚
>
> Daemonçº¿ç¨‹è¢«ç”¨ä½œå®Œæˆæ”¯æŒæ€§å·¥ä½œï¼Œä½†æ˜¯åœ¨Javaè™šæ‹Ÿæœºé€€å‡ºæ—¶Daemonçº¿ç¨‹ä¸­çš„finallyå—å¹¶ä¸ä¸€å®šä¼šæ‰§è¡Œã€‚åœ¨æ„å»ºDaemonçº¿ç¨‹æ—¶ï¼Œä¸èƒ½ä¾é finallyå—ä¸­çš„å†…å®¹æ¥ç¡®ä¿æ‰§è¡Œå…³é—­æˆ–æ¸…ç†èµ„æºçš„é€»è¾‘ã€‚

### åº”ç”¨

- netty

  è‡ªèº«éœ€è¦æ§åˆ¶å†…å­˜åˆ†é…ï¼Œè€Œå½“åº”ç”¨é€€å‡ºè‡ªèº«è·Ÿéšé€€å‡ºã€‚

### æ³¨æ„

å®ˆæŠ¤çº¿ç¨‹ä¸­æ‰§è¡Œ`finallyä»£ç å—`ä¸ä¸€å®šä¼šæ‰§è¡Œã€‚